{% extends 'base.html' %}
{% load static %}

{% block title %}Resultados da Pesquisa{% endblock %}

{% block content %}
<!-- Título dinâmico -->
<h2 class="text-2xl font-semibold mb-6 text-center">
    {% if resultados %}
        Encontramos {{ resultados|length }} resultado(s) para "{{ query }}"
    {% else %}
        Nenhum resultado encontrado para "{{ query }}"
    {% endif %}
</h2>

<!-- Cards de resultados -->
<div class="flex flex-wrap justify-center gap-6">
    {% if resultados %}
        {% for receita in resultados %}
            <div class="w-full sm:w-[calc(50%-1.5rem)] lg:w-[calc(33.333%-1.5rem)] bg-gray-50 p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 ease-in-out">
                <img src="{{ receita.image.url }}" 
                     alt="Imagem de {{ receita.title }}" 
                     class="w-full h-48 object-cover rounded-md mb-4"
                     loading="lazy">
                <h3 class="text-xl font-bold mb-2 text-gray-800">{{ receita.title }}</h3>
                <p class="text-gray-600 mb-4">{{ receita.description|truncatewords:20 }}</p>
                <a href="{% url 'receita_detail' id=receita.id %}" 
                   class="text-orange-600 hover:text-orange-800 font-semibold">
                    Ver Receita &rarr;
                </a>
            </div>
        {% endfor %}
    {% else %}
        <div class="w-full text-center py-12">
            <div class="text-6xl text-gray-400 mb-4">
                <i class="fas fa-search"></i>
            </div>
            <p class="text-xl text-gray-600 mb-2">Nenhuma receita encontrada</p>
            <p class="text-gray-500">Tente pesquisar com outras palavras-chave</p>
            <a href="{% url 'home' %}" 
               class="inline-block mt-4 bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-full transition duration-300">
                Voltar ao início
            </a>
        </div>
    {% endif %}
</div>
{% endblock %}